2019-08-22

1. 完成单选框的 vue 组件化
   1. v-model 的深入了解和灵活使用
   2. 有其他选项的自定义答案
   3. 没有加入必选提示
   4. 表单组件的重要补全
2. 设计出 flow 学习的高效模式
   之前是通过文档形式记录官网的资料，同时建立测试项目测试代码，但是理论和代码分开，非常不容易对应，记录起来也很吃力
   现在改为文档资料以注释形式写在测试代码中，每一份官网资料对应一份测试代码文件，测试完成移动到相应文档路径，接着新建新的测试代码到指定的测试目录
   详见 flow.md 和 test/flow 项目
3. 完成新一期工作任务的计划
   计划的理解和制定时间花费我 3 个小时，但是涉及 3 周时间，性价比还是很高的。

2019-08-23

1. 诸葛 IO 市政问题反馈埋点（完成）
2. 建立 flow 官网 Type Annotations(输入注释)文档测试文档
3. 土建 学习专区 去掉 tab 栏目（完成）
4. 过新一期工作任务计划的技术方案（完成）
   1. 去掉了部分任务，当前任务估时 29 \* 2
   2. 气象站和其他部门合作，比较重要
5. 土建右侧和用户中心正式环境网址修正，新的容器已经替换了网址，并且注册功能加入（完成）

2019-08-26

1. 修复市政问题反馈 BUG（完成）（3）
2. jira 录入工作计划，包括气象站和本部门 2 个 jira（完成）（0.5）
3. 市政 OP BUG 修复（未完成，延后）
4. 云计价 OP BUG 修复（未完成，延后）
5. 土建容器 BUG 修复（未完成，延后）
   1. 用户中心签到之后，在右侧侧边栏签到提示错误，应该是签到状态没有同步，外加接口错误提示处理不完美导致
6. 上午开会（完成）（1）
7. 总结：
   1. 时间不够，琐事太多

2019-08-27

1. 市政 OP BUG 修复（完成）（3）

   1. 用户的批量打标签我钻牛角尖了，想着趁机优化一个完美的组件，却发现很难，最后退而求次，先完成在完美，暂时写死了一些东西，以后有机会在优化吧。
      原本预计耗时 2 个小时的，没想到耗时 3 个小时了

2. 云计价 OP BUG 修复（未完成，延后）
   琐事耽误了
3. 土建容器 BUG 修复（完成）（0.5）
   1. 用户中心签到之后，在右侧侧边栏签到提示错误，应该是签到状态没有同步，外加接口错误提示处理不完美导致
4. 开会（完成）（1）
5. 完成爬虫程序 V1.0
   输入指定网址可以爬取想要内容到本地

2019-08-28

1. 开会（完成）（0.5）
2. 云计价 OP BUG 修复（3）
   1. 内容管理编辑窗口下拉选地址经常为空的问题（完成）
   2. 内容管理地区多选的需求（完成）
   3. 内容管理窗口轻易关闭问题（完成）
   4. 消息管理详情里的列表加入筛选条件（完成）
3. 造价云 OP（完成）（1）
   1. 企业管理加入新的过滤条件（完成）
   2. 企业列表列名修正（完成）
   3. 解决查询条件在切换页签后仍然缓存的问题（完成）
4. 搭建气象站（未完成，延后）（1）
   1. 创建新分支下载代码（完成）
   2. 加入基础功能，比如 API，vuex，公共组件等
   3. 熟悉项目结构，可以使用公共组件搭建上方导航栏和右侧菜单栏
   4. UI 调整
   5. 未完成原因：OP bug 的处理耽误我太多时间
   6. 如何处理公共模块--对比 npm 和 git submodule
      https://blog.csdn.net/Smallsun_229/article/details/80721928
5. 爬虫程序优化

2019-08-28

1. 搭建气象站（预计 6）
   1. 引入熟悉的 API 机制（完成）（2）
      其实是将整个项目框架修整成自己熟悉的风格
      将 API 图表接口调通
   2. 展示产品分布情况图表
   3. 产品阶段分布情况图表
   4. 重点产品阶段分布和人员投入情况图表
   5. 导航栏完成
   6. 学习 echarts（未完成）(6)
      目前官网文档看到使用 dataset 管理数据

2019-08-29

1. 搭建气象站（未完成）（4）
   1. 使用 pxcook 进行 UI 设计，账户加入中台组（完成）
   2. iconfont 加入中台组（完成）
   3. 展示产品分布情况图表（完成）
   4. 产品阶段分布情况图表（完成）
   5. 重点产品阶段分布和人员投入情况图表（完成）
   6. 导航栏完成（完成）
   7. 产品档案右侧菜单栏（完成）
   8. 产品档案搜索栏
   9. 产品档案表格
2. 开会（1.5） 1.晨会（完成） 2.气象站用例会（完成）
3. OP 日常维护（完成）（1）
4. 学习 echarts（未完成）

2019-09-02

1. 搭建气象站（4）
   1. 基本信息
      1. 下拉搜索栏（完成）
      2. 新建搜索栏（完成）
      3. 表格（完成）
      4. 编辑表单（完成）
   2. OP 维护（3）
      土建 OP 和 PC 的问题定位以及修复耗费了我一个下午的时间。

2019-09-04

1. 搭建气象站（未完成）（3）
   1. 基本信息（完成）（2）
      接口调试时间很多
      1. 基本信息搜索接口调试
         1. 分页
         2. 查询条件传参
      2. 基本信息加入时间段查询
      3. 基本信息更新和新增接口调试
         注意产品名称唯一检测
   2. 产品阶段（未完成）
      1. 参考基本信息完成一样功能，但是不需要新建，没有查询栏
      2. 加入历史查询列表
   3. 产品技术信息（未完成）
      1. 同产品阶段完成一样功能
   4. 人员信息（未完成）
      1. 同产品阶段完成一样功能
   5. banner 处理（完成）（1）
2. 土建（完成）（3）
   大量的问题定位和配合后端调试接口以及部署上线 jenkins 问题导致耗费许多时间。
   1. OP 课程管理创建时间 UI
   2. 重新部署土建学习专区
   3. PC 产品端
      1. 解决页面总出现网络异常的问题
         页面 info 接口需要 3S 才能返回数据，这期间的所有操作都会网络出错，因为接口没有用户信息，现在把 info 接口拆成 4 个接口，提高速度。
3. 开会（完成）（0.5）

2019-09-05

1. 搭建气象站（完成）（10.5）
   1. 数据字典（完成）（1.5）
      数据字典接口调试，数据字典数据处理
   2. 产品阶段
      1. 表格展示（完成）（1）
      2. 编辑（完成）（1）
      3. 历史记录（0.5）
   3. 产品技术信息
      1. 表格展示（完成）（1）
      2. 编辑（完成）（2）
         1. checkbox v-model 必须是数组，我填入字符串导致问题，定位花了时间
         2. 参考舒盺思路，强化了 model 功能
      3. 历史记录（0.5）
   4. 人员信息
      1. 表格展示（1）
      2. 编辑（1）
      3. 历史记录（0.5）
   5. 菜单栏地址配置（0.5）
2. 开会（0.5）
3. 总结
   气象站终于收尾了，和预估时间差不多，但是中间出现了一些波折
   1. 新项目环境不熟悉，在加上没有 demo 参考，前期摸索有些耗时，比如公共组件的 git 同步，model 思想，公共 UI 的使用，公共组件如图表的使用等等
   2. 接口调试占用时间超预计，和之前的接口风格不一样，而且接口本身有时候也有问题，需要耐心的调整，这是和新后端培养默契的过程，越早处理接口问题越好
   3. 繁杂的重复性操作，比如表格，表单，其实逻辑，ui 都一致，只是展示和处理的数据有区别，但是那么多表格表单一个个确认数据的正确性非常耗时，
      幸亏有抽取公共的部分，外加使用 model 的概念，但是 还是有很多进步的空间，这是最大的瓶颈，
      我之前预计完成一个表格和表单，剩下的就是复制粘贴，但是发现每个表单和表格还是有细微的差别，这些差别的处理并不简单，所以超出计划之外的时间大部分出自这里，需要记住这个经验教训。

2019-09-06

1. 气象站（0.5）
   1. 查看历史不能传 pid 的问题
2. odin 日常维护（1）
3. 装饰勋章体系
   1. 右侧边栏
4. 学习 echarts

2019-09-06

1. 气象站（完成）（1）
   bug 修复
2. 装饰勋章
   1. 用例评审（完成）
   2. 右侧边栏功能完成
   3. 录入原始数据（1）
      主要是勋章图片，需要录入到阿里云，然后把 url 整理给后端，30 个，想省事用代码实现，但是发现阿里云要证书，无法 nodejs 模拟去做，于是老老实实一个个上传看结果，花费大量时间。
3. vue 核心

2019-09-10

1. 装饰勋章（完成）（8）
   1. 右侧边栏展示（完成）（2）
      项目启动回忆旧代码以及设计思路以及修复之前的漏洞花费较多时间
   2. 右侧边栏红点处理（完成）（0.5）
      正常完成
   3. 用户中心勋章展示（完成）（1.5）
      正常完成，右侧栏跳转到用户中心也算在其中
   4. 用户中心勋章规则页（完成）（1）
      UI 调整麻烦
   5. 用户中心红点处理（完成）（0）
   6. 勋章 tips 展示和跳转处理（完成）（3）
      UI 调整耗时巨大
      抽取成公共组件
   7. 用户中心和右侧边栏勋章信息同步（未完成）
2. 气象站（完成）（3）
   1. bug 修正以及需求调整（完成）（2）
   2. demo 演示会（完成）（1）
3. 晨会（完成）（0.5）
4. 午休+晚休（完成）（4.5）
   我一共在公司呆了 17 个小时，但是这样算才 16 个小时，剩下的时间去哪了？

2019-09-12

1.  装饰勋章
    1. 动画效果
    2. tips 提示以及跳转
    3. 勋章信息实时更新机制和多容器同步机制

2019-09-16

1. 土建容器升级（完成）（5）
   1. 优化了 QT 升级的机制，可以全产品线适配，并且适配操作简单了
      promise 的机制比想象中还要复杂，一个方法如果调用了 await，那么这个方法在被其他方法调用的时候，仍会异步，这个还需要做更详尽的测试
   2. 问题反馈功能的 vue 版本提升
      问题反馈是 3 个月前的功能，\$emit 似乎从原来的同步变成异步，如果现在只适配 qt，还不行，还得调整 vue 本身的同步异步问题，解决花费了些许时间，但是原理仍未知
2. vue 核心（完成）（4）
   1. 学习了 1.3  
      vue 的构建过程，从 package.json 的命令，到 scripts/build 的实际配置处理，包括 config.js 的默认配置和转换成 rollup 支持的配置形式，处理 cmd 命令得到真正需要的配置，
      在到执行打包，压缩，输出日志等操作，最后还分析了 Runtime Only VS Runtime+Compiler 的区别
   2. 学习了 1.4
      import vue 这个入口 vue 到底做什么时候事情，它实际上是个 function 构造的类，用 es5 的形式实现是为了方便原型挂载方法，另外它会做了静态方法的挂载，所以我们才能使用 vue 的方法
   3. 学习了 2.1
      new vue 的时候发生了什么？首先就是\_init,就是初始化 options 配置，这里学习的重点是在 data 中配置的属性为什么可以通过 this.属性的方式调用，因为它在初始化的时候被赋值给了
      vue.\_data，然后通过 proxy 代理的方式，原理是 Object.defineProperty 的 get 和 set，去实现，实际上 this.属性就是 this.\_data.属性，所以会和 props 和 methods 的属性进行去重
      判断，另外这里涉及的数据驱动后面会研究。另外还知道了通过 alias 的方式让 vue 的源码可以被 debugger，这里涉及到 1.3.3.6 Runtime Only VS Runtime+Compiler
      另外这里还有个知识点，vue3.0 时候的 webpack 配置。

2019-09-17

1. 气象站
   1. 合并代码结构
   2. 登录页面
2. 土建 QT 升级 BUG 修复
   1. 用户切换，但是数据我是缓存的，切换时候没更新导致的数据问题
   2. 不同 vue 组件同时监听数据的变化，因为是异步的，所以处理逻辑顺利会出现错误

2019-09-18

1. 装饰勋章
   1. 动画效果
   2. 实时更新勋章信息
   3. 修复异步问题导致的token没有及时放在请求头中的问题
      这个只是暂时解决，应该有个统一的解决方案，放在框架中。
2. 气象站
   1. model 替换成公共库的 model，并进行功能适配
   2. 表格 mock 逻辑调整，加入 formatter
   3. 表单制作成公共组件
3. 其他紧急任务
   1. 土建PC网页不是最新网页，缓存没更新问题
      这个问题在很多PC都有出现，需要想一个方案强制更新网页，刷新缓存
   2. 修复装饰签到信息同步问题
      以前的代码没有模块化概念，交互起来特别繁琐。
   3. 之前装饰PC的全部项目性能都有问题，this.eventHub.$on（全局事件线）绑定在子组件的时候，在destroyed上没有解除，导致初始化一次子组件就全局多加个事件操作
   4. 父组件和子组件created执行顺序居然是异步的，之后的编程一定要注意这个问题
5. qt升级方案以及遇到的问题汇总
   1. 新版本的qt无法在调试窗口进行代码调试，之前可以用firebug解决，但是firebug现在被火狐官方终止维护，也就是没有解决办法了。
   2. 新版本qt容器初始化由同步变为异步，并且容器对外暴露的接口分三种类型：
      1. 获取容器数据的接口
         比如'isLogin', 'getToken', 'getWindowSysName', 'isSystem64Bit', 'getVersion', 'getProductName', 'isSoftware64Bit', 'getDeviceNum', 'getCurrentUser'
         这类接口是异步获取数据
      2. 调用容器工具的接口
         比如'login', 'logout', 'loadUrlInBrowser', 'refreshNaviWidget', 'destroyWebWindow', 'showWebWindow', 'hideWebWindow', 'existWebWindow', 'updateWebWindow', 'showNaviWidget', 'popupWebWindow'
         这类接口是同步操作
      3. 容器通讯的接口
         'registerCallBack', 'notify'
         这类接口是注册监听和触发监听的接口，也是同步
      为了兼容旧版本，也就是全部的方法都是同步操作，必须提供一个新的代理容器，可以转异步为同步，使用了promise，async,awiat登ES6的新特性做到了
   3. 因为所有的网页（超过10个）都要进行类似qt升级，为了以最小的改动达到最好的效果，采用了中间件方式，穷举所有容器，所有方法进行处理，有则定义，无则跳过。
   4. 因为获得容器数据的接口从异步转同步用到了缓存，所以在切换用户的时候，缓存要及时更新，因为这个问题导致了一些列数据问题
   5. 因为使用了await和async，所以vue父子组件生命周期的运行出现了紊乱，本来父组件created方法先于子组件，但是因为父组件用到了es6的await和async，导致子组件的created先于父组件运行，
      暂时没有很好的解决方案，只能根据业务代码的情况加入了settimeout延迟500毫秒的操作，这也是qt升级最大的障碍。但是，详解vue中async-await的使用误区（https://www.jb51.net/article/152027.htm)一文似乎有解决方案，可以事后完善。
4. vue 核心

2019-09-19
1. 全部的活动网页
   1. /share/config接口全部下线
2. 气象站
   1. 登录模块
   2. ui调整
   3. 修正图表无数据的展示情况
3. 会议
   1. 晨会
   2. 装饰勋章demo会议
4. vue核心
